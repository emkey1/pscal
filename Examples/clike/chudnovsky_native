#!/usr/bin/env clike
double chudnovsky_native(long n) {
    const double C3 = 262537412640768000.0; // 640320^3
    double sum = 13591409.0;
    double term = 1.0;
    for (long k = 1; k < n; k++) {
        double k_d = (double)k;
        term = term * -(6.0 * k_d - 5.0) * (2.0 * k_d - 1.0) * (6.0 * k_d - 1.0) * 24.0;
        term = term / (k_d * k_d * k_d * C3);
        sum = sum + term * (13591409.0 + 545140134.0 * k_d);
    }
    return 426880.0 * sqrt(10005.0) / sum;
}

int main() {
    long n;
    printf("Please enter an integer value for iterations: ");
    scanf(n);
    printf("pi: %.17f\n", chudnovsky_native(n));
    return 0;
}
