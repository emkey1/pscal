#!/usr/bin/env exsh

echo "caseb:start"

export CASE_SUBJECT=foo
case "$CASE_SUBJECT" in
  foo)
    echo "match foo"
    ;;
  *)
    echo "unexpected"
    ;;
esac

export CASE_SUBJECT=baz
export CASE_PATTERN=baz
case "$CASE_SUBJECT" in
  foo)
    echo "no foo"
    ;;
  "$CASE_PATTERN"|bar)
    echo "match group"
    ;;
  *)
    echo "fallback"
    ;;
esac

export CASE_SUBJECT=qux
export CASE_DEFAULT=qux
case "$CASE_SUBJECT" in
  foo|bar)
    echo "unexpected branch"
    ;;
  *)
    echo "match default $CASE_DEFAULT"
    ;;
esac

echo "case:end"
