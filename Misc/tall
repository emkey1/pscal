#!/bin/bash
ROOT="/Users/mke/Dropbox/Psc_Build"
BIN="$ROOT/bin"          # all your executables live here
TESTS="$ROOT/Tests"      # all your .p / .pas files live here

PSCAL="$BIN/pscal"       # plain interpreter

for f in  "$TESTS/TestSuite7.p" \
          "$TESTS/MathSuite01.p" \
          "$TESTS/tid.p" "$TESTS/tcs" "$TESTS/tb"
do
  [ -r "$f" ] || echo "Missing test file: $f"
done

[ -x "$PSCAL" ] || echo "pscal binary not found/executable: $PSCAL"


#set -euo pipefail        # fail fast, undefined vars are errors


run () {
  local label=$1; shift   # first arg = banner, rest = command
  echo "=== Starting $label ==="
  "$@"                    # run the command exactly as given
  echo "=== Finished $label ==="
  echo
}

# ---------- individual suites ----------
run "MDArray"        "$PSCAL"  "$TESTS/MDArray_Suite.p"
run "TestSuite"      "$PSCAL" "$TESTS/TestSuite7.p"
run "MathSuite"      "$PSCAL" "$TESTS/MathSuite01.p"

# assorted oneâ€‘offs
run "Assorted (tid)" "$PSCAL" "$TESTS/tid.p"
run "Assorted (tcs)" "$PSCAL" "$TESTS/tcs"
run "Assorted (tb)"  "$PSCAL" "$TESTS/tb"

