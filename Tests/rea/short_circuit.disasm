--- Compiling Main Program AST to Bytecode ---
== Disassembly: rea/short_circuit.rea ==
Offset Line Opcode           Operand  Value / Target (Args)
------ ---- ---------------- -------- --------------------------
0000    0 CONSTANT            1 'nil'
0002    | DEFINE_GLOBAL    NameIdx:0   'myself' Type:POINTER ('')
0007    1 JUMP               16 (to 0026)

--- Function rhs_true (at 0010) ---
0010    2 CONSTANT            3 '1'
0012    | CONSTANT            4 'R1'
0014    | CALL_BUILTIN_PROC   176 'write' (2 args)
0020    3 CONSTANT            6 'true'
0022    | RETURN
0023    1 GET_LOCAL           0 (slot)
0025    | RETURN
0026    6 JUMP               16 (to 0045)

--- Function rhs_false (at 0029) ---
0029    7 CONSTANT            3 '1'
0031    | CONSTANT            7 'R0'
0033    | CALL_BUILTIN_PROC   176 'write' (2 args)
0039    8 CONSTANT            8 'false'
0041    | RETURN
0042    6 GET_LOCAL           0 (slot)
0044    | RETURN
0045   23 DEFINE_GLOBAL    NameIdx:9   'r0' Type:BOOLEAN ('bool')
0050    | CONSTANT           11 'false'
0052    | JUMP_IF_FALSE       8 (to 0063)
0055    | CALL_USER_PROC      12 'rhs_true' @0010 (0 args)
0059    | TO_BOOL
0060    | JUMP                2 (to 0065)
0063    | CONSTANT           13 'false'
0065    | SET_GLOBAL          9 'r0'
0067   24 DEFINE_GLOBAL    NameIdx:14  'r1' Type:BOOLEAN ('bool')
0072    | CONSTANT           15 'true'
0074    | JUMP_IF_FALSE       5 (to 0082)
0077    | CONSTANT           16 'true'
0079    | JUMP                5 (to 0087)
0082    | CALL_USER_PROC      12 'rhs_true' @0010 (0 args)
0086    | TO_BOOL
0087    | SET_GLOBAL         14 'r1'
0089   25 DEFINE_GLOBAL    NameIdx:17  'r2' Type:BOOLEAN ('bool')
0094    | CONSTANT           18 'true'
0096    | JUMP_IF_FALSE       8 (to 0107)
0099    | CALL_USER_PROC      12 'rhs_true' @0010 (0 args)
0103    | TO_BOOL
0104    | JUMP                2 (to 0109)
0107    | CONSTANT           19 'false'
0109    | SET_GLOBAL         17 'r2'
0111   26 DEFINE_GLOBAL    NameIdx:20  'r3' Type:BOOLEAN ('bool')
0116    | CONSTANT           21 'false'
0118    | JUMP_IF_FALSE       5 (to 0126)
0121    | CONSTANT           22 'true'
0123    | JUMP                5 (to 0131)
0126    | CALL_USER_PROC      23 'rhs_false' @0029 (0 args)
0130    | TO_BOOL
0131    | SET_GLOBAL         20 'r3'
0133   27 DEFINE_GLOBAL    NameIdx:24  'r4' Type:BOOLEAN ('bool')
0138    | CONSTANT           25 'false'
0140    | JUMP_IF_FALSE       5 (to 0148)
0143    | CONSTANT           26 'true'
0145    | JUMP                5 (to 0153)
0148    | CALL_USER_PROC      12 'rhs_true' @0010 (0 args)
0152    | TO_BOOL
0153    | SET_GLOBAL         24 'r4'
0155   11 CONSTANT           27 'false'
0157    | JUMP_IF_FALSE       8 (to 0168)
0160    | CALL_USER_PROC      12 'rhs_true' @0010 (0 args)
0164    | TO_BOOL
0165    | JUMP                2 (to 0170)
0168    | CONSTANT           28 'false'
0170    | JUMP_IF_FALSE      13 (to 0186)
0173   12 CONSTANT            3 '1'
0175    | CONSTANT           29 'A hit'
0177    | CALL_BUILTIN_PROC   176 'write' (2 args)
0183   11 JUMP               10 (to 0196)
0186   14 CONSTANT            3 '1'
0188    | CONSTANT           30 'A skip'
0190    | CALL_BUILTIN_PROC   176 'write' (2 args)
0196   17 CONSTANT           31 'true'
0198    | JUMP_IF_FALSE       5 (to 0206)
0201    | CONSTANT           32 'true'
0203    | JUMP                5 (to 0211)
0206    | CALL_USER_PROC      12 'rhs_true' @0010 (0 args)
0210    | TO_BOOL
0211    | JUMP_IF_FALSE      13 (to 0227)
0214   18 CONSTANT            3 '1'
0216    | CONSTANT           33 'B hit'
0218    | CALL_BUILTIN_PROC   176 'write' (2 args)
0224   17 JUMP               10 (to 0237)
0227   20 CONSTANT            3 '1'
0229    | CONSTANT           34 'B skip'
0231    | CALL_BUILTIN_PROC   176 'write' (2 args)
0237   29 CONSTANT            3 '1'
0239    | CONSTANT           35 'vals:'
0241    | GET_GLOBAL          9 'r0'
0243    | CONSTANT           36 ' '
0245    | GET_GLOBAL         14 'r1'
0247    | CONSTANT           36 ' '
0249    | GET_GLOBAL         17 'r2'
0251    | CONSTANT           36 ' '
0253    | GET_GLOBAL         20 'r3'
0255    | CONSTANT           36 ' '
0257    | GET_GLOBAL         24 'r4'
0259    | CALL_BUILTIN_PROC   176 'write' (11 args)
0265    0 HALT
== End Disassembly: rea/short_circuit.rea ==

Constants (37):\n  0000: STR   "myself"
  0001: NIL
  0002: STR   ""
  0003: INT   1
  0004: STR   "R1"
  0005: STR   "write"
  0006: BOOL  true
  0007: STR   "R0"
  0008: BOOL  false
  0009: STR   "r0"
  0010: STR   "bool"
  0011: BOOL  false
  0012: STR   "rhs_true"
  0013: BOOL  false
  0014: STR   "r1"
  0015: BOOL  true
  0016: BOOL  true
  0017: STR   "r2"
  0018: BOOL  true
  0019: BOOL  false
  0020: STR   "r3"
  0021: BOOL  false
  0022: BOOL  true
  0023: STR   "rhs_false"
  0024: STR   "r4"
  0025: BOOL  false
  0026: BOOL  true
  0027: BOOL  false
  0028: BOOL  false
  0029: STR   "A hit"
  0030: STR   "A skip"
  0031: BOOL  true
  0032: BOOL  true
  0033: STR   "B hit"
  0034: STR   "B skip"
  0035: STR   "vals:"
  0036: CHAR  ' '

