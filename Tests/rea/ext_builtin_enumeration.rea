int main() {
  int categoryCount = extbuiltincategorycount();
  bool ok = true;
  bool foundSystem = false;
  bool foundGetPid = false;
  bool foundOpenAI = false;
  bool foundOpenAIChat = false;
  int i = 0;
  while (i < categoryCount) {
    str name = extbuiltincategoryname(i);
    if (name == "") {
      ok = false;
    }
    int fnCount = extbuiltinfunctioncount(name);
    int groupCount = extbuiltingroupcount(name);
    int j = 0;
    int groupTotal = 0;
    while (j < groupCount) {
      str groupName = extbuiltingroupname(name, j);
      int groupFnCount = extbuiltingroupfunctioncount(name, groupName);
      int k = 0;
      groupTotal = groupTotal + groupFnCount;
      while (k < groupFnCount) {
        str fnName = extbuiltingroupfunctionname(name, groupName, k);
        if (fnName == "") {
          ok = false;
        }
        if (name == "system" && groupName == "process" && fnName == "GetPid") {
          foundGetPid = true;
        }
        if (name == "openai" && groupName == "chat" && fnName == "OpenAIChatCompletions") {
          foundOpenAI = true;
          foundOpenAIChat = true;
        }
        k = k + 1;
      }
      j = j + 1;
    }
    if (groupTotal != fnCount) {
      ok = false;
    }
    if (name == "system") {
      foundSystem = true;
    }
    if (name == "openai") {
      foundOpenAI = true;
    }
    i = i + 1;
  }
  if (hasextbuiltin("system", "GetPid")) {
    if (!(foundSystem && foundGetPid)) {
      ok = false;
    }
  }
  if (hasextbuiltin("openai", "OpenAIChatCompletions")) {
    if (!(foundOpenAI && foundOpenAIChat)) {
      ok = false;
    }
  }
  if (ok) {
    writeln("ok");
    return 0;
  }
  writeln("fail");
  return 1;
}

main();
