--- Compiling Main Program AST to Bytecode ---
== Disassembly: rea/myself_keyword.rea ==
Offset Line Opcode           Operand  Value / Target (Args)
------ ---- ---------------- -------- --------------------------
0000    0 CONSTANT            1 'nil'
0002    | DEFINE_GLOBAL    NameIdx:0   'myself' Type:POINTER ('')
0007    3 JUMP               21 (to 0031)

--- Procedure dummy.test (at 0010) ---
0010    4 GET_LOCAL           0 (slot)
0012    | LOAD_FIELD_VALUE    2 (index)
0014    | CONST_0
0015    | EQUAL
0016    | SET_LOCAL           1 (slot)
0018    5 GET_LOCAL           1 (slot)
0020    | JUMP_IF_FALSE       7 (to 0030)
0023    | CONST_1
0024    | GET_LOCAL           0 (slot)
0026    | GET_FIELD_OFFSET    2 (index)
0028    | SWAP
0029    | SET_INDIRECT
0030    3 RETURN
0031    0 CONSTANT            5 'Value type ARRAY'
0033    | DEFINE_GLOBAL    NameIdx:6   'dummy_vtable' Type:ARRAY Dims:1 [0..0] of INTEGER ('integer')
0044    | SET_GLOBAL          6 'dummy_vtable' cache=0x0
0054    8 DEFINE_GLOBAL    NameIdx:8   'd' Type:POINTER ('Dummy')
0059    | ALLOC_OBJECT        3 (fields)
0061    | DUP
0062    | GET_FIELD_OFFSET    0 (index)
0064    | GET_GLOBAL_ADDRESS    6 'dummy_vtable'
0066    | SET_INDIRECT
0067    | SET_GLOBAL          8 'd' cache=0x0
0077    0 GET_GLOBAL          8 'd' cache=0x0
0087    | DUP
0088    | GET_FIELD_OFFSET    0 (index)
0090    | GET_GLOBAL_ADDRESS    6 'dummy_vtable'
0092    | SET_INDIRECT
0093    | POP
0094    9 GET_GLOBAL          8 'd' cache=0x0
0104    | DUP
0105    | GET_FIELD_OFFSET    0 (index)
0107    | GET_INDIRECT
0108    | CONST_0
0109    | SWAP
0110    | GET_ELEMENT_ADDRESS    1 (dims)
0112    | GET_INDIRECT
0113    | PROC_CALL_INDIRECT (args=1)
0115    0 HALT
== End Disassembly: rea/myself_keyword.rea ==

Constants (10):\n  0000: STR   "myself"
  0001: NIL
  0002: STR   ""
  0003: INT   0
  0004: INT   1
  0005: Value type ARRAY
  0006: STR   "dummy_vtable"
  0007: STR   "integer"
  0008: STR   "d"
  0009: STR   "Dummy"

